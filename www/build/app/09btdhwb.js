/*! Built with http://stenciljs.com */
App.loadComponents("09btdhwb",function(e,t,a,r,n){function o(e,t){return t={exports:{}},e(t,t.exports),t.exports}var c="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},l=o(function(e,t){(function(){function a(e){return!!e.exifdata}function r(e,t){t=t||e.match(/^data\:([^\;]+)\;base64,/im)[1]||"",e=e.replace(/^data\:([^\;]+)\;base64,/gim,"");for(var a=atob(e),r=a.length,n=new ArrayBuffer(r),o=new Uint8Array(n),i=0;i<r;i++)o[i]=a.charCodeAt(i);return n}function n(e,t){var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="blob",a.onload=function(e){200!=this.status&&0!==this.status||t(this.response)},a.send()}function o(e,t){var a=new FileReader,o=function(a){var r=i(a),n=c(a);e.exifdata=r||{},e.iptcdata=n||{},t&&t(e)};if(e.src)if(/^data\:/i.test(e.src)){var l=r(e.src);o(l)}else if(/^blob\:/i.test(e.src))a.onload=function(e){o(e.target.result)},n(e.src,function(e){a.readAsArrayBuffer(e)});else{var d=new XMLHttpRequest;d.onload=function(){if(200!=this.status&&0!==this.status)throw"Could not load image";o(d.response),d=null},d.open("GET",e.src,!0),d.responseType="arraybuffer",d.send(null)}else window.FileReader&&(e instanceof window.Blob||e instanceof window.File)&&(a.onload=function(e){g&&console.log("Got file of length "+e.target.result.byteLength),o(e.target.result)},a.readAsArrayBuffer(e))}function i(e){var t=new DataView(e);if(g&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return g&&console.log("Not a valid JPEG"),!1;for(var a,r=2,n=e.byteLength;r<n;){if(255!=t.getUint8(r))return g&&console.log("Not a valid marker at offset "+r+", found: "+t.getUint8(r)),!1;if(a=t.getUint8(r+1),g&&console.log(a),225==a)return g&&console.log("Found 0xFFE1 marker"),s(t,r+4,t.getUint16(r+2));r+=2+t.getUint16(r+2)}}function c(e){var t=new DataView(e);if(g&&console.log("Got file of length "+e.byteLength),255!=t.getUint8(0)||216!=t.getUint8(1))return g&&console.log("Not a valid JPEG"),!1;for(var a=2,r=e.byteLength;a<r;){if(function(e,t){return 56===e.getUint8(t)&&66===e.getUint8(t+1)&&73===e.getUint8(t+2)&&77===e.getUint8(t+3)&&4===e.getUint8(t+4)&&4===e.getUint8(t+5)}(t,a)){var n=t.getUint8(a+7);return n%2!=0&&(n+=1),0===n&&(n=4),l(e,a+8+n,t.getUint16(a+6+n))}a++}}function l(e,t,a){for(var r,n,o,i,c=new DataView(e),l={},d=t;d<t+a;)28===c.getUint8(d)&&2===c.getUint8(d+1)&&(i=c.getUint8(d+2))in S&&((o=c.getInt16(d+3))+5,n=S[i],r=h(c,d+5,o),l.hasOwnProperty(n)?l[n]instanceof Array?l[n].push(r):l[n]=[l[n],r]:l[n]=r),d++;return l}function d(e,t,a,r,n){var o,i,c,l=e.getUint16(a,!n),d={};for(c=0;c<l;c++)o=a+12*c+2,!(i=r[e.getUint16(o,!n)])&&g&&console.log("Unknown tag: "+e.getUint16(o,!n)),d[i]=u(e,o,t,a,n);return d}function u(e,t,a,r,n){var o,i,c,l,d,u,s=e.getUint16(t+2,!n),g=e.getUint32(t+4,!n),f=e.getUint32(t+8,!n)+a;switch(s){case 1:case 7:if(1==g)return e.getUint8(t+8,!n);for(o=g>4?f:t+8,i=[],l=0;l<g;l++)i[l]=e.getUint8(o+l);return i;case 2:return o=g>4?f:t+8,h(e,o,g-1);case 3:if(1==g)return e.getUint16(t+8,!n);for(o=g>2?f:t+8,i=[],l=0;l<g;l++)i[l]=e.getUint16(o+2*l,!n);return i;case 4:if(1==g)return e.getUint32(t+8,!n);for(i=[],l=0;l<g;l++)i[l]=e.getUint32(f+4*l,!n);return i;case 5:if(1==g)return d=e.getUint32(f,!n),u=e.getUint32(f+4,!n),c=d/u,c.numerator=d,c.denominator=u,c;for(i=[],l=0;l<g;l++)d=e.getUint32(f+8*l,!n),u=e.getUint32(f+4+8*l,!n),i[l]=d/u,i[l].numerator=d,i[l].denominator=u;return i;case 9:if(1==g)return e.getInt32(t+8,!n);for(i=[],l=0;l<g;l++)i[l]=e.getInt32(f+4*l,!n);return i;case 10:if(1==g)return e.getInt32(f,!n)/e.getInt32(f+4,!n);for(i=[],l=0;l<g;l++)i[l]=e.getInt32(f+8*l,!n)/e.getInt32(f+4+8*l,!n);return i}}function h(e,t,a){var r,n="";for(r=t;r<t+a;r++)n+=String.fromCharCode(e.getUint8(r));return n}function s(e,t){if("Exif"!=h(e,t,4))return g&&console.log("Not valid EXIF data! "+h(e,t,4)),!1;var a,r,n,o,i,c=t+6;if(18761==e.getUint16(c))a=!1;else{if(19789!=e.getUint16(c))return g&&console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;a=!0}if(42!=e.getUint16(c+2,!a))return g&&console.log("Not valid TIFF data! (no 0x002A)"),!1;var l=e.getUint32(c+4,!a);if(l<8)return g&&console.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(c+4,!a)),!1;if((r=d(e,c,c+l,C,a)).ExifIFDPointer){o=d(e,c,c+r.ExifIFDPointer,m,a);for(n in o){switch(n){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":o[n]=p[n][o[n]];break;case"ExifVersion":case"FlashpixVersion":o[n]=String.fromCharCode(o[n][0],o[n][1],o[n][2],o[n][3]);break;case"ComponentsConfiguration":o[n]=p.Components[o[n][0]]+p.Components[o[n][1]]+p.Components[o[n][2]]+p.Components[o[n][3]]}r[n]=o[n]}}if(r.GPSInfoIFDPointer){i=d(e,c,c+r.GPSInfoIFDPointer,v,a);for(n in i){switch(n){case"GPSVersionID":i[n]=i[n][0]+"."+i[n][1]+"."+i[n][2]+"."+i[n][3]}r[n]=i[n]}}return r}var g=!1,f=function(e){return e instanceof f?e:this instanceof f?void(this.EXIFwrapped=e):new f(e)};e.exports&&(t=e.exports=f),t.EXIF=f;var m=f.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},C=f.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},v=f.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},p=f.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},S={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"};f.getData=function(e,t){return!((e instanceof Image||e instanceof HTMLImageElement)&&!e.complete)&&(a(e)?t&&t(e):o(e,t),!0)},f.getTag=function(e,t){if(a(e))return e.exifdata[t]},f.getAllTags=function(e){if(!a(e))return{};var t,r=e.exifdata,n={};for(t in r)r.hasOwnProperty(t)&&(n[t]=r[t]);return n},f.pretty=function(e){if(!a(e))return"";var t,r=e.exifdata,n="";for(t in r)r.hasOwnProperty(t)&&("object"==typeof r[t]?r[t]instanceof Number?n+=t+" : "+r[t]+" ["+r[t].numerator+"/"+r[t].denominator+"]\r\n":n+=t+" : ["+r[t].length+" values]\r\n":n+=t+" : "+r[t]+"\r\n");return n},f.readFromBinaryFile=function(e){return i(e)}}).call(c)}),d=o(function(e,t){var a=function(){function e(e,t,a,r){var n,o,i=[];switch(r){case 90:for(n=0;n<4*t;n+=4)for(o=4*t*(a-1);o>=0;o-=4*t)i.push(e[n+o]),i.push(e[n+o+1]),i.push(e[n+o+2]),i.push(e[n+o+3]);break;case-90:for(n=4*t-4;n>=0;n-=4)for(o=0;o<e.length;o+=4*t)i.push(e[n+o]),i.push(e[n+o+1]),i.push(e[n+o+2]),i.push(e[n+o+3]);break;case 180:for(o=4*t*(a-1);o>=0;o-=4*t)for(n=4*t-4;n>=0;n-=4)i.push(e[n+o]),i.push(e[n+o+1]),i.push(e[n+o+2]),i.push(e[n+o+3])}return new Uint8ClampedArray(i)}function t(e,t,a){var r,n,o,i,c=[],l=[];for(n=0;n<t;n++)for(c.push([]),l.push(0),o=0;o<(a+1)*t;o+=t)c[c.length-1].push(e[n+o]),l[l.length-1]=l[l.length-1]+e[n+o];var d=[];for(o=0;o<e.length;o+=t){for(n=0;n<t;n++){var u=0,h=0;for(i=n;i>=0&&(u+=l[i],++h!==a+1);i--);var s=0;for(i=n+1;i<t&&(u+=l[i],h++,++s!==a);i++);u/=h*=c[0].length,d.push(u)}if(o-a*t>=0)for(i=0;i<c.length;i++)r=c[i].shift(),l[i]=l[i]-r;if(o+(a+1)*t<e.length)for(i=0;i<c.length;i++)r=e[i+o+(a+1)*t],c[i].push(r),l[i]=l[i]+r}return d}function a(e,t,a){var r,n,o=[];for(n=0;n<e.length;n+=8*t)for(r=0;r<4*t;r+=8){var i=(e[n+r]+e[n+r+4]+e[n+4*t+r]+e[n+4*t+r+4])/4;o.push(i);var c=(e[n+r+1]+e[n+r+4+1]+e[n+4*t+r+1]+e[n+4*t+r+4+1])/4;o.push(c);var l=(e[n+r+2]+e[n+r+4+2]+e[n+4*t+r+2]+e[n+4*t+r+4+2])/4;o.push(l),o.push(255)}return new Uint8ClampedArray(o)}function r(e,t){var a,r,n,o=[],i=Number.MIN_VALUE,c=Number.MAX_VALUE;for(r=0;r<e.length;r+=4*t)for(a=0;a<4*t;a+=4){var l=0,d=0;for(n=1;n<2;n++)a+4*n<4*t&&(l+=Math.abs(e[r+a]-e[r+a+4*n])),r+4*t*n<e.length&&(d+=d+Math.abs(e[r+a]-e[r+a+4*t*n]));var u=l-d;i=u>i?u:i,c=u<c?u:c,o.push(u)}if(c<0){for(n=0;n<o.length;n++)o[n]=o[n]-c;c=0}return o}function n(e){var t;for(t=0;t<e.length;t+=4){var a=0,r=255;a=e[t]>a?e[t]:a,a=e[t+1]>a?e[t+1]:a,a=e[t+2]>a?e[t+2]:a,r=e[t]<r?e[t]:r,r=e[t+1]<r?e[t+1]:r,r=e[t+2]<r?e[t+2]:r,e[t]=e[t+1]=e[t+2]=(a+r)/2}}function o(e,t){var a,r=0;for(a=1;a<e.length;++a)r+=a*e[a];var n,o,i=0,c=0,l=0,d=0,u=0,h=0,s=0;for(a=0;a<e.length;++a)if(0!==(c+=e[a])){if(0==(l=t-c))break;n=(i+=a*e[a])/c,o=(r-i)/l,(u=c*l*Math.pow(n-o,2))>=d&&(h=a,u>d&&(s=a),d=u)}return(h+s)/2}function c(){Image.data=new Uint8ClampedArray(Image.width*Image.height*4);var e,t,a;for(a=0;a<Image.height;a++)for(t=0;t<Image.width;t++)e=4*a*Image.width,Image.data[e+4*t]=Image.table[t][a][0],Image.data[e+4*t+1]=Image.table[t][a][1],Image.data[e+4*t+2]=Image.table[t][a][2],Image.data[e+4*t+3]=Image.table[t][a][3]}function l(){Image.table=[];var e,t,a=[];for(e=0;e<4*Image.width;e+=4){for(a=[],t=e;t<Image.data.length;t+=4*Image.width)a.push([Image.data[t],Image.data[t+1],Image.data[t+2],Image.data[t+3]]);Image.table.push(a)}}function d(){ScanImage.table=[];var e,t,a=[];for(e=0;e<4*ScanImage.width;e+=4){for(a=[],t=e;t<ScanImage.data.length;t+=4*ScanImage.width)a.push([ScanImage.data[t],ScanImage.data[t+1],ScanImage.data[t+2],ScanImage.data[t+3]]);ScanImage.table.push(a)}}function u(e,t){var a,r,n,o=[];for(a=0;a<Image.width;a++){for(o=[],r=0;r<Image.height;r++)for(n=0;n<e;n++)o.push(Image.table[a][r]);Image.table[a]=o.slice()}for(o=Image.table.slice(),a=0;a<Image.width;a++)for(n=0;n<t;n++)Image.table[a*t+n]=o[a].slice();Image.width=Image.table.length,Image.height=Image.table[0].length,c()}function h(e){var t,a,r,n=[],o=0,i=0,c=0;for(t=0;t<Image.height-e;t+=e)for(a=0;a<Image.width;a++){for(o=0,i=0,c=0,r=t;r<t+e;r++)o+=Image.table[a][r][0],i+=Image.table[a][r][1],c+=Image.table[a][r][2];n.push(o/e),n.push(i/e),n.push(c/e),n.push(255)}return new Uint8ClampedArray(n)}function s(e,t){return e[0][0]<=t[0][1]&&t[0][0]<=e[0][1]&&e[1][0]<=t[1][1]&&t[1][0]<=e[1][1]}function g(e,t,a){var r,n,o,i=e,c=[];do{var l=t%Image.width,d=(t-l)/Image.width,u=0,h=Image.height,g=0,f=Image.width-1;for(n=d;n<Image.height-1;n++)if(0===Image.table[l][n+1][0]){h=n;break}for(n=d;n>0;n--)if(0===Image.table[l][n-1][0]){u=n;break}for(r=l;r<Image.width-1;r++)if(0===Image.table[r+1][d][0]){f=r;break}for(r=l;r>0;r--)if(0===Image.table[r-1][d][0]){g=r;break}for(n=u*Image.width;n<=h*Image.width;n+=Image.width)for(r=g;r<=f;r++)a[n+r]=0;var m=[[g,f],[u,h]];for(o=0;o<c.length;o++)if(s(m,c[o])){if(c[o][0][1]-c[o][0][0]>m[0][1]-m[0][0]){c[o][0][0]=c[o][0][0]<m[0][0]?c[o][0][0]:m[0][0],c[o][0][1]=c[o][0][1]>m[0][1]?c[o][0][1]:m[0][1],m=[];break}c[o][0][0]=c[o][0][0]<m[0][0]?c[o][0][0]:m[0][0],c[o][0][1]=c[o][0][1]>m[0][1]?c[o][0][1]:m[0][1],c[o][1][0]=m[1][0],c[o][1][1]=m[1][1],m=[];break}for(m.length>0&&c.push(m),e=0,t=0,o=0;o<a.length;o++)a[o]>e&&(e=a[o],t=o)}while(e>.7*i);return c}function f(){n(Image.data);var e,a,i,d=r(Image.data,Image.width),u=(d=t(d,Image.width,15))[0];for(e=1;e<d.length;e++)u=u>d[e]?d[e]:u;var h=0,s=0,f=0;for(e=0;e<d.length;e++)d[e]=Math.round(d[e]-u),f+=d[e],h<d[e]&&(h=d[e],s=e);if((f/=d.length)<15){for(u=(d=t(d,Image.width,8))[0],e=1;e<d.length;e++)u=u>d[e]?d[e]:u;for(h=0,s=0,e=0;e<d.length;e++)d[e]=Math.round(d[e]-u),h<d[e]&&(h=d[e],s=e)}var m=[];for(e=0;e<=h;e++)m[e]=0;for(e=0;e<d.length;e++)m[d[e]]=m[d[e]]+1;var C=o(m,d.length);for(e=0;e<d.length;e++)d[e]<C?Image.data[4*e]=Image.data[4*e+1]=Image.data[4*e+2]=0:Image.data[4*e]=Image.data[4*e+1]=Image.data[4*e+2]=255;l();var v=g(h,s,d),p=[];for(e=0;e<v.length;e++)p.push({x:v[e][0][0],y:v[e][1][0],width:v[e][0][1]-v[e][0][0],height:v[e][1][1]-v[e][1][0]});for(p.length>0&&postMessage({result:p,success:"localization"}),allTables=[],e=0;e<v.length;e++){var S=[];for(a=2*v[e][0][0];a<2*v[e][0][1];a++){var I=[];for(i=2*v[e][1][0];i<2*v[e][1][1];i++)I.push([ScanImage.table[a][i][0],ScanImage.table[a][i][1],ScanImage.table[a][i][2],255]);S.push(I)}S.length<1||(Image.table=S,Image.width=S.length,Image.height=S[0].length,c(),allTables.push({table:S,data:new Uint8ClampedArray(Image.data),width:Image.width,height:Image.height}))}}function m(){f();var e,t,a,r,n,i,c,l=[];for(i=0;i<allTables.length;i++){Image=allTables[i];var d,s=h(30),g=0,m="",v={},p=[];Selection=!1;do{for(t=s.subarray(g,g+4*Image.width),a=[],c=0;c<256;c++)a[c]=0;for(c=0;c<t.length;c+=4)a[r=Math.round((t[c]+t[c+1]+t[c+2])/3)]=a[r]+1;d=C(t,(n=o(a,t.length/4))<41?1:n-40,n>214?254:n+40),Selection=A(d),Selection.string?(m=Selection.format,e=Selection,Selection=Selection.string,"EAN-13"===m&&(void 0===v[Selection]?(v[Selection]={count:1,correction:e.correction},p.push(Selection)):(v[Selection].count=v[Selection].count+1,v[Selection].correction=v[Selection].correction+e.correction),Selection=!1)):Selection=!1,g+=4*Image.width}while(!Selection&&g<s.length);if(Selection&&"EAN-13"!==m&&l.push({Format:m,Value:Selection}),"EAN-13"===m&&(Selection=!1),!Selection){u(4,2),g=0,s=h(20);do{for(t=s.subarray(g,g+4*Image.width),a=[],c=0;c<256;c++)a[c]=0;for(c=0;c<t.length;c+=4)a[r=Math.round((t[c]+t[c+1]+t[c+2])/3)]=a[r]+1;d=C(t,(n=o(a,t.length/4))<40?0:n-40,n>215?255:n+40),Selection=A(d),Selection.string?(m=Selection.format,e=Selection,Selection=Selection.string,"EAN-13"===m&&(void 0===v[Selection]?(v[Selection]={count:1,correction:e.correction},p.push(Selection)):(v[Selection].count=v[Selection].count+1,v[Selection].correction=v[Selection].correction+e.correction),Selection=!1)):Selection=!1,g+=4*Image.width}while(!Selection&&g<s.length);if("EAN-13"===m){var S={};for(var I in v){v[I].correction=v[I].correction/v[I].count;var b=v[I].correction;b-=v[I].count,b+=p.indexOf(I),S[I]=b}var B=Number.POSITIVE_INFINITY,F="";for(var E in S)S[E]<B&&(B=S[E],F=I);Selection=B<11&&F}Selection&&l.push({Format:m,Value:Selection})}if(l.length>0&&!Multiple)break}return l}function C(e,t,a){var r,n,o,i=0,c=new Uint8ClampedArray(Image.width*(a-t+1)*4);for(n=0;n<c.length;n++)c[n]=255;for(n=0;n<4*Image.width;n+=4)for(r=a,i=(e[n]+e[n+1]+e[n+2])/3,n<4*Image.width-4&&(i+=(e[n+4]+e[n+5]+e[n+6])/3,i/=2),o=n;o<c.length;o+=4*Image.width)i<r&&(c[o]=c[o+1]=c[o+2]=0),r--;return c}function v(e,t){if(t){if(5!==e.length)return!1}else if(3!==e.length)return!1;var a,r=0;for(a=0;a<e.length;a++)r+=e[a];for(r/=e.length,a=0;a<e.length;a++)if(e[a]/r<.5||e[a]/r>1.5)return!1;return!0}function p(e,t){if(e.length<5||e.length>6)return!1;var a,r=0,n=[0,0];for(a=0;a<e.length;a++)e[a]>r&&(r=e[a],n[0]=a);for(r=0,a=0;a<e.length;a++)a!==n[0]&&e[a]>r&&(r=e[a],n[1]=a);return n[0]+n[1]===2}function S(e,t){var a,r=0;for(a=0;a<e.length;a++)r+=e[a];if(r/=4,t){if(4!==e.length)return!1;for(a=0;a<e.length;a++)if(e[a]/r<.5||e[a]/r>1.5)return!1;return!0}if(3!==e.length)return!1;var n,o=0;for(a=0;a<e.length;a++)e[a]>o&&(o=e[a],n=a);if(0!==n)return!1;if(e[0]/r<1.5||e[0]/r>2.5)return!1;for(a=1;a<e.length;a++)if(e[a]/r<.5||e[a]/r>1.5)return!1;return!0}function I(e,t){var a,r,n,o=[],i=[],c=0;if("Code128"===t||"Code93"===t){for(r=6,a=e[0],"Code128"===t&&(a/=2),n=0;n<e.length;n++)if(e[n]>6*a){e.splice(n,e.length);break}do{7===e.length&&"Code128"===t?o.push(e.splice(0,e.length)):o.push(e.splice(0,r)),"Code93"===t&&e.length<6&&e.splice(0,r)}while(e.length>0)}if("Code39"===t){for(r=9,a=e[0],n=0;n<e.length;n++)if(e[n]>5*a){e.splice(n,e.length);break}do{o.push(e.splice(0,r)),e.splice(0,1)}while(e.length>0)}if("EAN-13"===t){r=4,a=e[0];var l=0;for(n=0;n<e.length;n++)if(e[n]>6*a){e.splice(n,e.length);break}v(e.splice(0,3),!1)&&l++,c=0;do{o.push(e.splice(0,r)),6==++c&&v(e.splice(0,5),!0)&&l++}while(o.length<12&&e.length>0);if(v(e.splice(0,3),!1)&&l++,l<2)return[]}if("2Of5"===t){for(r=5,a=e[0]/2,n=0;n<e.length;n++)if(e[n]>5*a){e.splice(n,e.length);break}var d=e.splice(0,6);o.push(d);do{for(i=[],n=0;n<r;n++)i.push(e.splice(0,1)[0]);o.push(i),5===e.length&&o.push(e.splice(0,5))}while(e.length>0)}if("Inter2Of5"===t){for(r=5,a=e[0],n=0;n<e.length;n++)if(e[n]>5*a){e.splice(n,e.length);break}o.push(e.splice(0,4));var u=[];do{for(i=[],u=[],n=0;n<r;n++)i.push(e.splice(0,1)[0]),u.push(e.splice(0,1)[0]);o.push(i),o.push(u),3===e.length&&o.push(e.splice(0,3))}while(e.length>0)}if("Codabar"===t){for(r=7,a=e[0],n=0;n<e.length;n++)if(e[n]>5*a){e.splice(n,e.length);break}do{o.push(e.splice(0,r)),e.splice(0,1)}while(e.length>0)}return o}function A(e,t){var a,r,n,o,i=[],c=[],l=255,d=0;for(n=0;n<e.length-4*Image.width;n+=4*Image.width){var u=e.subarray(n,n+4*Image.width);for(i=[],o=0;255===u[o];)o+=4;for(;o<u.length;){for(d=0,l=u[o];u[o]===l&&o<u.length;)d++,o+=4;i.push(d)}i.length>2&&i[0]<=i[1]/10&&i.splice(0,2);var h=i.slice(),s=!1;for(o=0;o<FormatPriority.length;o++){var g,f;if(i=I(i=h.slice(),FormatPriority[o]),"2Of5"!==FormatPriority[o]&&"Inter2Of5"!==FormatPriority[o]||(g=i.splice(0,1)[0],f=i.splice(i.length-1,1)[0]),c=b(i,FormatPriority[o]),"EAN-13"===FormatPriority[o]?(i=c.data,corrections=c.correction):i=c,void 0!==i){if(i.length>4||"Code39"===FormatPriority[o]&&i.length>2)if("Code128"===FormatPriority[o])B(i)&&(i=L(i),s=!0);else if("Code93"===FormatPriority[o])D(i)&&(i=k(i),s=!0);else if("Code39"===FormatPriority[o])y(i)&&(i=P(i),s=!0);else if("EAN-13"===FormatPriority[o])(r=w(i))&&13===r.length&&(i=r,s=!0);else if("2Of5"===FormatPriority[o]||"Inter2Of5"===FormatPriority[o]){if("2Of5"===FormatPriority[o]){if(void 0!==g&&!p(g,!0))continue;if(void 0!==f&&!p(f,!1))continue}if("Inter2Of5"===FormatPriority[o]){if(void 0!==g&&!S(g,!0))continue;if(void 0!==f&&!S(f,!1))continue}(r=F(i))&&(i=r,s=!0)}else"Codabar"===FormatPriority[o]&&(r=E(i))&&(i=r,s=!0);if(s){"Inter2Of5"===(a=FormatPriority[o])&&(a="Interleaved 2 of 5"),"2Of5"===a&&(a="Standard 2 of 5");break}}}if(s)break}return"Code128"===a?"string"==typeof i.string?i:{string:!1}:"string"==typeof i?"EAN-13"===a?{string:i,format:a,correction:corrections}:{string:i,format:a}:{string:!1}}function b(e,t){var a,r,n,o,i,c,l,d,u,h,s,g,f,m=0,C=[];for(0===(t=availableFormats.indexOf(t))?(r=11,a=6,n=4):1===t?(r=9,a=6,n=4):2===t?(r=12,a=9):3===t?(r=7,a=4,n=4):6===t&&(a=7),o=0;o<e.length;o++){var v=e[o],p=0,S=0,I=[];if(6!==t)if(4!==t&&5!==t){for(;S<a;)p+=v[S],S++;if(2!==t)if(3!==t){for(S=0;S<a;)I.push(v[S]/p*r),S++;for(S=0;S<a;)I[S]=I[S]>n?n:I[S],I[S]=I[S]<1?1:I[S],I[S]=Math.round(I[S]),S++;if(3===t){var A=0;for(i=0;i<I.length;i++)A+=I[i];if(A>7){f=0;var b=0;for(i=0;i<I.length;i++)I[i]>f&&(f=I[i],b=i);I[b]=f-(A-7)}}if(3===t)for(i=0;i<I.length;i++)m+=Math.abs(I[i]-v[i]/p*r);C.push(I)}else{for(f=[[0,0],[0,0],[0,0]],c=0;c<v.length;c++)v[c]>f[0][0]&&(f[0][0]=v[c],s=f[0][1],f[0][1]=c,c=s),v[c]>f[1][0]&&c!==f[0][1]&&(f[1][0]=v[c],s=f[1][1],f[1][1]=c,c=s),v[c]>f[2][0]&&c!==f[0][1]&&c!==f[1][1]&&(f[2][0]=v[c],f[2][1]=c);if(f[0][0]/f[1][0]>=3){for(h=0,c=0;c<v.length;c++)c!==f[0][1]&&(h+=v[c]);for(h/=3,c=0;c<v.length;c++)if(c!==f[0][1]&&(v[c]/h<.02||v[c]/h>3))return{data:[],correction:0};if(f[0][0]/h<2.2||f[0][0]/h>6)return{data:[],correction:0};for(c=0;c<v.length;c++)c===f[0][1]?I.push(4):I.push(1);C.push(I)}else if(f[0][0]/f[2][0]>2){if(u=f[0][0]+f[1][0],u/=5,f[0][0]/(3*u)<.02||f[0][0]/(3*u)>3)return{data:[],correction:0};if(f[1][0]/(2*u)<.02||f[1][0]/(2*u)>3)return{data:[],correction:0};for(h=0,c=0;c<v.length;c++)c!==f[0][1]&&c!==f[1][1]&&(h+=v[c]);for(h/=2,c=0;c<v.length;c++)if(c!==f[0][1]&&c!==f[1][1]&&(v[c]/h<.02||v[c]/h>3))return{data:[],correction:0};for(c=0;c<v.length;c++)c===f[0][1]?I.push(3):c===f[1][1]?I.push(2):I.push(1);C.push(I)}else{if(f[0][1]%2==f[1][1]%2&&f[0][1]%2==f[2][1]%2){var B=f[0][1]%2;for(f[2]=[0,0],c=0;c<v.length;c++)c%2!==B&&v[c]>f[2][0]&&(f[2][0]=v[c],f[2][1]=c)}for(u=f[0][0]+f[1][0]+f[2][0],u/=3,c=0;c<f.length;c++)if(f[c][0]/u<.02||f[c][0]/u>3)return{data:[],correction:0};var F=0;for(c=0;c<v.length;c++)c!==f[0][1]&&c!==f[1][1]&&c!==f[2][1]&&(F=v[c]);if(u/F<.02||u/F>3)return{data:[],correction:0};for(c=0;c<v.length;c++)c===f[0][1]||c===f[1][1]||c===f[2][1]?I.push(2):I.push(1);C.push(I)}for(c=0;c<I.length;c++)m+=Math.abs(I[c]-v[c]/p*r)}else{for(l=[[0,0],[0,0]],d=[0,0],c=0;c<v.length;c++)c%2==0?(v[c]>l[0][0]&&(l[0][0]=v[c],s=l[0][1],l[0][1]=c,c=s),v[c]>l[1][0]&&c!==l[0][1]&&(l[1][0]=v[c],l[1][1]=c)):v[c]>d[0]&&(d[0]=v[c],d[1]=c);if(d[0]/l[0][0]>1.5&&d[0]/l[1][0]>1.5)for(l=[[0,0],[0,0]],c=0;c<v.length;c++)c%2!=0&&(v[c]>l[0][0]&&c!==d[1]&&(l[0][0]=v[c],s=l[0][1],l[0][1]=c,c=s),v[c]>l[1][0]&&c!==l[0][1]&&c!==d[1]&&(l[1][0]=v[c],l[1][1]=c));if(u=l[0][0]+l[1][0]+d[0],u/=3,l[0][0]/u>1.6||l[0][0]/u<.4)return[];if(l[1][0]/u>1.6||l[1][0]/u<.4)return[];if(d[0]/u>1.6||d[0]/u<.4)return[];for(h=0,i=0;i<v.length;i++)i!==l[0][1]&&i!==l[1][1]&&i!==d[1]&&(h+=v[i]);for(h/=6,i=0;i<v.length;i++)if(i!==l[0][1]&&i!==l[1][1]&&i!==d[1]&&(v[i]/h>1.6||v[i]/h<.4))return[];for(c=0;c<v.length;c++)c===l[0][1]||c===l[1][1]||c===d[1]?I.push(2):I.push(1);C.push(I)}}else{for(f=[[0,0],[0,0]],i=0;i<v.length;i++){if(!isFinite(v[i]))return[];v[i]>f[0][0]&&(f[0][0]=v[i],s=f[0][1],f[0][1]=i,i=s-1),v[i]>f[1][0]&&i!==f[0][1]&&(f[1][0]=v[i],f[1][1]=i)}if(Secure2Of5){if(u=f[0][0]+f[1][0],u/=2,f[0][0]/u>1.3||f[0][0]/u<.7)return[];if(f[1][0]/u>1.3||f[1][0]/u<.7)return[];for(h=0,i=0;i<v.length;i++)i!==f[0][1]&&i!==f[1][1]&&(h+=v[i]);for(h/=3,i=0;i<v.length;i++)if(i!==f[0][1]&&i!==f[1][1]&&(v[i]/h>1.3||v[i]/h<.7))return[]}for(i=0;i<v.length;i++)i!==f[0][1]&&i!==f[1][1]?I.push(0):I.push(1);C.push(I)}else{if(7!==v.length)return[];if(0===o||o===e.length-1){for(d=[[0,0],[0,0]],l=[0,0],i=0;i<v.length;i++)if(i%2==0)v[i]>l[0]&&(l[0]=v[i],l[1]=i);else{if(v[i]>d[0][0]){d[0][0]=v[i],s=d[0][1],d[0][1]=i,i=s-1;continue}v[i]>d[1][0]&&i!==d[0][1]&&(d[1][0]=v[i],d[1][1]=i)}if(SecureCodabar){for(u=d[0][0]+d[1][0]+l[0],u/=3,g=[d[0][0],d[1][0],l[0]],i=0;i<g.length;i++)if(g[i]/u>1.5||g[i]/u<.5)return[];for(h=0,i=0;i<v.length;i++)i!==l[1]&&i!==d[0][1]&&i!==d[1][1]&&(h+=v[i]);for(h/=4,i=0;i<v.length;i++)if(i!==l[1]&&i!==d[0][1]&&i!==d[1][1]&&(v[i]/h>1.5||v[i]/h<.5))return[]}for(i=0;i<v.length;i++)i===l[1]||i===d[0][1]||i===d[1][1]?I.push(1):I.push(0)}else{for(l=[0,0],d=[0,0],i=0;i<v.length;i++)i%2==0?v[i]>l[0]&&(l[0]=v[i],l[1]=i):v[i]>d[0]&&(d[0]=v[i],d[1]=i);if(l[0]/d[0]>1.55){for(l=[l,[0,0],[0,0]],i=0;i<v.length;i++)if(i%2==0){if(v[i]>l[1][0]&&i!==l[0][1]){l[1][0]=v[i],s=l[1][1],l[1][1]=i,i=s-1;continue}v[i]>l[2][0]&&i!==l[0][1]&&i!==l[1][1]&&(l[2][0]=v[i],l[2][1]=i)}if(SecureCodabar){for(u=l[0][0]+l[1][0]+l[2][0],u/=3,i=0;i<l.length;i++)if(l[i][0]/u>1.5||l[i][0]/u<.5)return[];for(h=0,i=0;i<v.length;i++)i!==l[0][1]&&i!==l[1][1]&&i!==l[2][1]&&(h+=v[i]);for(h/=4,i=0;i<v.length;i++)if(i!==l[0][1]&&i!==l[1][1]&&i!==l[2][1]&&(v[i]/h>1.5||v[i]/h<.5))return[]}for(i=0;i<v.length;i++)i===l[0][1]||i===l[1][1]||i===l[2][1]?I.push(1):I.push(0)}else{if(SecureCodabar){if(u=l[0]+d[0],u/=2,l[0]/u>1.5||l[0]/u<.5)return[];if(d[0]/u>1.5||d[0]/u<.5)return[];for(h=0,i=0;i<v.length;i++)i!==l[1]&&i!==d[1]&&(h+=v[i]);for(h/=5,i=0;i<v.length;i++)if(i!==l[1]&&i!==d[1]&&(v[i]/h>1.5||v[i]/h<.5))return[]}for(i=0;i<v.length;i++)i===l[1]||i===d[1]?I.push(1):I.push(0)}}C.push(I)}}return 3===t?{data:C,correction:m}:C}function B(e){var t,a=e[e.length-2].join("");if(-1===(a=Code128Encoding.value.indexOf(a)))return!1;var r=Code128Encoding.value.indexOf(e[0].join(""));if(-1===r)return!1;var n=Code128Encoding[e[0].join("")];if(void 0===n)return!1;if("A"!==n&&"B"!==n&&"C"!==n)return!1;for(t=1;t<e.length-2;t++)if(r+=Code128Encoding.value.indexOf(e[t].join(""))*t,-1===Code128Encoding.value.indexOf(e[t].join("")))return!1;return r%103===a}function F(e){var t,a="";for(t=0;t<e.length;t++){if(-1===TwoOfFiveEncoding.indexOf(e[t].join("")))return!1;a+=TwoOfFiveEncoding.indexOf(e[t].join(""))}return a}function E(e){var t,a="",r=e[0].join(""),n=e[e.length-1].join("");if("A"!==CodaBarEncoding[r]&&"B"!==CodaBarEncoding[r]&&"C"!==CodaBarEncoding[r]&&"D"!==CodaBarEncoding[r])return!1;if("A"!==CodaBarEncoding[n]&&"B"!==CodaBarEncoding[n]&&"C"!==CodaBarEncoding[n]&&"D"!==CodaBarEncoding[n])return!1;for(t=1;t<e.length-1;t++){if(void 0===CodaBarEncoding[e[t].join("")])return!1;a+=CodaBarEncoding[e[t].join("")]}return a}function w(e){if(12!==e.length)return!1;var t,a=e.slice(0,6),r=!1,n=e.slice(6,e.length);for(t=0;t<a.length;t++)if(a[t]=a[t].join(""),4!==a[t].length){r=!0;break}if(r)return!1;for(t=0;t<n.length;t++)if(n[t]=n[t].join(""),4!==n[t].length){r=!0;break}if(r)return!1;var o=[];for(t=0;t<a.length;t++)if(void 0!==EAN13Encoding.L[a[t]])o.push("L");else{if(void 0===EAN13Encoding.G[a[t]]){r=!0;break}o.push("G")}if(r)return!1;var i=[];if(void 0===EAN13Encoding.formats[o.join("")])return!1;for(i.push(EAN13Encoding.formats[o.join("")]),t=0;t<a.length;t++){if(void 0===EAN13Encoding[o[t]][a[t]]){r=!0;break}i.push(EAN13Encoding[o[t]][a[t]])}if(r)return!1;for(t=0;t<n.length;t++){if(void 0===EAN13Encoding.R[n[t]]){r=!0;break}i.push(EAN13Encoding.R[n[t]])}if(r)return!1;var c=3,l=0;for(t=i.length-2;t>=0;t--)l+=i[t]*c,c=3===c?1:3;return l=(10-l%10)%10,i[i.length-1]===l&&i.join("")}function D(e){var t=e[e.length-3].join(""),a=e[e.length-2].join(""),r=!0;if(void 0===Code93Encoding[t])return!1;if(void 0===Code93Encoding[a])return!1;var n,o=Code93Encoding[t].value,i=1,c=0;for(n=e.length-4;n>0&&(r=void 0!==Code93Encoding[e[n].join("")]&&r);n--)c+=Code93Encoding[e[n].join("")].value*i,++i>20&&(i=1);var l=c%47,d=l===o;if(!d)return!1;if(!r)return!1;for(c=l,i=2,o=Code93Encoding[a].value,n=e.length-4;n>0&&(r=void 0!==Code93Encoding[e[n].join("")]&&r);n--)c+=Code93Encoding[e[n].join("")].value*i,++i>15&&(i=1);return c%47===o&&d}function y(e){var t=!0;if(void 0===Code39Encoding[e[0].join("")])return!1;if("*"!==Code39Encoding[e[0].join("")].character)return!1;if(void 0===Code39Encoding[e[e.length-1].join("")])return!1;if("*"!==Code39Encoding[e[e.length-1].join("")].character)return!1;for(i=1;i<e.length-1;i++)if(void 0===Code39Encoding[e[i].join("")]){t=!1;break}return t}function P(e){var t="",a=!1,r="",n="";for(i=1;i<e.length-1;i++)("$"===(r=Code39Encoding[e[i].join("")].character)||"/"===r||"+"===r||"%"===r)&&i+1<e.length-1?(a=!0,n=r):a?(void 0===ExtendedEncoding[n+r]||(t+=ExtendedEncoding[n+r]),a=!1):t+=r;return t}function k(e){var t="",a=!1,r="",n="";for(i=1;i<e.length-3;i++)"($)"!==(r=Code93Encoding[e[i].join("")].character)&&"(/)"!==r&&"(+)"!==r&&"(%)"!==r?a?(void 0===ExtendedEncoding[n+r]||(t+=ExtendedEncoding[n+r]),a=!1):t+=r:(a=!0,n=r[1]);return t}function L(e){var t,a,r=Code128Encoding[e[0].join("")],n="Code128",o="";for(a=1;a<e.length-2;a++)switch(t=Code128Encoding[e[a].join("")][r]){case"FNC1":1===a&&(n="GS1-128");break;case"FNC2":case"FNC3":case"FNC4":break;case"SHIFT_B":a++,o+=Code128Encoding[e[a].join("")].B;break;case"SHIFT_A":a++,o+=Code128Encoding[e[a].join("")].A;break;case"Code_A":r="A";break;case"Code_B":r="B";break;case"Code_C":r="C";break;default:o+=t}return{string:o,format:n}}TwoOfFiveEncoding=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"],Code128Encoding={212222:{A:" ",B:" ",C:"00"},222122:{A:"!",B:"!",C:"01"},222221:{A:'"',B:'"',C:"02"},121223:{A:"#",B:"#",C:"03"},121322:{A:"$",B:"$",C:"04"},131222:{A:"%",B:"%",C:"05"},122213:{A:"&",B:"&",C:"06"},122312:{A:"'",B:"'",C:"07"},132212:{A:"(",B:"(",C:"08"},221213:{A:")",B:")",C:"09"},221312:{A:"*",B:"*",C:"10"},231212:{A:"+",B:"+",C:"11"},112232:{A:",",B:",",C:"12"},122132:{A:"-",B:"-",C:"13"},122231:{A:".",B:".",C:"14"},113222:{A:"/",B:"/",C:"15"},123122:{A:"0",B:"0",C:"16"},123221:{A:"1",B:"1",C:"17"},223211:{A:"2",B:"2",C:"18"},221132:{A:"3",B:"3",C:"19"},221231:{A:"4",B:"4",C:"20"},213212:{A:"5",B:"5",C:"21"},223112:{A:"6",B:"6",C:"22"},312131:{A:"7",B:"7",C:"23"},311222:{A:"8",B:"8",C:"24"},321122:{A:"9",B:"9",C:"25"},321221:{A:":",B:":",C:"26"},312212:{A:";",B:";",C:"27"},322112:{A:"<",B:"<",C:"28"},322211:{A:"=",B:"=",C:"29"},212123:{A:">",B:">",C:"30"},212321:{A:"?",B:"?",C:"31"},232121:{A:"@",B:"@",C:"32"},111323:{A:"A",B:"A",C:"33"},131123:{A:"B",B:"B",C:"34"},131321:{A:"C",B:"C",C:"35"},112313:{A:"D",B:"D",C:"36"},132113:{A:"E",B:"E",C:"37"},132311:{A:"F",B:"F",C:"38"},211313:{A:"G",B:"G",C:"39"},231113:{A:"H",B:"H",C:"40"},231311:{A:"I",B:"I",C:"41"},112133:{A:"J",B:"J",C:"42"},112331:{A:"K",B:"K",C:"43"},132131:{A:"L",B:"L",C:"44"},113123:{A:"M",B:"M",C:"45"},113321:{A:"N",B:"N",C:"46"},133121:{A:"O",B:"O",C:"47"},313121:{A:"P",B:"P",C:"48"},211331:{A:"Q",B:"Q",C:"49"},231131:{A:"R",B:"R",C:"50"},213113:{A:"S",B:"S",C:"51"},213311:{A:"T",B:"T",C:"52"},213131:{A:"U",B:"U",C:"53"},311123:{A:"V",B:"V",C:"54"},311321:{A:"W",B:"W",C:"55"},331121:{A:"X",B:"X",C:"56"},312113:{A:"Y",B:"Y",C:"57"},312311:{A:"Z",B:"Z",C:"58"},332111:{A:"[",B:"[",C:"59"},314111:{A:"\\",B:"\\",C:"60"},221411:{A:"]",B:"]",C:"61"},431111:{A:"^",B:"^",C:"62"},111224:{A:"_",B:"_",C:"63"},111422:{A:"NUL",B:"`",C:"64"},121124:{A:"SOH",B:"a",C:"65"},121421:{A:"STX",B:"b",C:"66"},141122:{A:"ETX",B:"c",C:"67"},141221:{A:"EOT",B:"d",C:"68"},112214:{A:"ENQ",B:"e",C:"69"},112412:{A:"ACK",B:"f",C:"70"},122114:{A:"BEL",B:"g",C:"71"},122411:{A:"BS",B:"h",C:"72"},142112:{A:"HT",B:"i",C:"73"},142211:{A:"LF",B:"j",C:"74"},241211:{A:"VT",B:"k",C:"75"},221114:{A:"FF",B:"l",C:"76"},413111:{A:"CR",B:"m",C:"77"},241112:{A:"SO",B:"n",C:"78"},134111:{A:"SI",B:"o",C:"79"},111242:{A:"DLE",B:"p",C:"80"},121142:{A:"DC1",B:"q",C:"81"},121241:{A:"DC2",B:"r",C:"82"},114212:{A:"DC3",B:"s",C:"83"},124112:{A:"DC4",B:"t",C:"84"},124211:{A:"NAK",B:"u",C:"85"},411212:{A:"SYN",B:"v",C:"86"},421112:{A:"ETB",B:"w",C:"87"},421211:{A:"CAN",B:"x",C:"88"},212141:{A:"EM",B:"y",C:"89"},214121:{A:"SUB",B:"z",C:"90"},412121:{A:"ESC",B:"{",C:"91"},111143:{A:"FS",B:"|",C:"92"},111341:{A:"GS",B:"}",C:"93"},131141:{A:"RS",B:"~",C:"94"},114113:{A:"US",B:"DEL",C:"95"},114311:{A:"FNC3",B:"FNC3",C:"96"},411113:{A:"FNC2",B:"FNC2",C:"97"},411311:{A:"SHIFT_B",B:"SHIFT_A",C:"98"},113141:{A:"Code_C",B:"Code_C",C:"99"},114131:{A:"Code_B",B:"FNC4",C:"Code_B"},311141:{A:"FNC4",B:"Code_A",C:"Code_A"},411131:{A:"FNC1",B:"FNC1",C:"FNC1"},211412:"A",211214:"B",211232:"C",233111:{A:"STOP",B:"STOP",C:"STOP"},value:["212222","222122","222221","121223","121322","131222","122213","122312","132212","221213","221312","231212","112232","122132","122231","113222","123122","123221","223211","221132","221231","213212","223112","312131","311222","321122","321221","312212","322112","322211","212123","212321","232121","111323","131123","131321","112313","132113","132311","211313","231113","231311","112133","112331","132131","113123","113321","133121","313121","211331","231131","213113","213311","213131","311123","311321","331121","312113","312311","332111","314111","221411","431111","111224","111422","121124","121421","141122","141221","112214","112412","122114","122411","142112","142211","241211","221114","413111","241112","134111","111242","121142","121241","114212","124112","124211","411212","421112","421211","212141","214121","412121","111143","111341","131141","114113","114311","411113","411311","113141","114131","311141","411131","211412","211214","211232","233111"]},Code93Encoding={131112:{value:0,character:"0"},111213:{value:1,character:"1"},111312:{value:2,character:"2"},111411:{value:3,character:"3"},121113:{value:4,character:"4"},121212:{value:5,character:"5"},121311:{value:6,character:"6"},111114:{value:7,character:"7"},131211:{value:8,character:"8"},141111:{value:9,character:"9"},211113:{value:10,character:"A"},211212:{value:11,character:"B"},211311:{value:12,character:"C"},221112:{value:13,character:"D"},221211:{value:14,character:"E"},231111:{value:15,character:"F"},112113:{value:16,character:"G"},112212:{value:17,character:"H"},112311:{value:18,character:"I"},122112:{value:19,character:"J"},132111:{value:20,character:"K"},111123:{value:21,character:"L"},111222:{value:22,character:"M"},111321:{value:23,character:"N"},121122:{value:24,character:"O"},131121:{value:25,character:"P"},212112:{value:26,character:"Q"},212211:{value:27,character:"R"},211122:{value:28,character:"S"},211221:{value:29,character:"T"},221121:{value:30,character:"U"},222111:{value:31,character:"V"},112122:{value:32,character:"W"},112221:{value:33,character:"X"},122121:{value:34,character:"Y"},123111:{value:35,character:"Z"},121131:{value:36,character:"-"},311112:{value:37,character:"."},311211:{value:38,character:" "},321111:{value:39,character:"$"},112131:{value:40,character:"/"},113121:{value:41,character:"+"},211131:{value:42,character:"%"},121221:{value:43,character:"($)"},312111:{value:44,character:"(%)"},311121:{value:45,character:"(/)"},122211:{value:46,character:"(+)"},111141:{value:-1,character:"*"}},Code39Encoding={111221211:{value:0,character:"0"},211211112:{value:1,character:"1"},112211112:{value:2,character:"2"},212211111:{value:3,character:"3"},111221112:{value:4,character:"4"},211221111:{value:5,character:"5"},112221111:{value:6,character:"6"},111211212:{value:7,character:"7"},211211211:{value:8,character:"8"},112211211:{value:9,character:"9"},211112112:{value:10,character:"A"},112112112:{value:11,character:"B"},212112111:{value:12,character:"C"},111122112:{value:13,character:"D"},211122111:{value:14,character:"E"},112122111:{value:15,character:"F"},111112212:{value:16,character:"G"},211112211:{value:17,character:"H"},112112211:{value:18,character:"I"},111122211:{value:19,character:"J"},211111122:{value:20,character:"K"},112111122:{value:21,character:"L"},212111121:{value:22,character:"M"},111121122:{value:23,character:"N"},211121121:{value:24,character:"O"},112121121:{value:25,character:"P"},111111222:{value:26,character:"Q"},211111221:{value:27,character:"R"},112111221:{value:28,character:"S"},111121221:{value:29,character:"T"},221111112:{value:30,character:"U"},122111112:{value:31,character:"V"},222111111:{value:32,character:"W"},121121112:{value:33,character:"X"},221121111:{value:34,character:"Y"},122121111:{value:35,character:"Z"},121111212:{value:36,character:"-"},221111211:{value:37,character:"."},122111211:{value:38,character:" "},121212111:{value:39,character:"$"},121211121:{value:40,character:"/"},121112121:{value:41,character:"+"},111212121:{value:42,character:"%"},121121211:{value:-1,character:"*"}},ExtendedEncoding={"/A":"!","/B":'"',"/C":"#","/D":"$","/E":"%","/F":"&","/G":"'","/H":"(","/I":")","/J":"*","/K":"+","/L":",","/O":"/","/Z":":","%F":";","%G":"<","%H":"=","%I":">","%J":"?","%K":"[","%L":"\\","%M":"]","%N":"^","%O":"_","+A":"a","+B":"b","+C":"c","+D":"d","+E":"e","+F":"f","+G":"g","+H":"h","+I":"i","+J":"j","+K":"k","+L":"l","+M":"m","+N":"n","+O":"o","+P":"p","+Q":"q","+R":"r","+S":"s","+T":"t","+U":"u","+V":"v","+W":"w","+X":"x","+Y":"y","+Z":"z","%P":"{","%Q":"|","%R":"|","%S":"~"},CodaBarEncoding={"0000011":"0","0000110":"1","0001001":"2",1100000:"3","0010010":"4",1000010:"5","0100001":"6","0100100":"7","0110000":"8",1001000:"9","0001100":"-","0011000":"$",1000101:":",1010001:"/",1010100:".","0011111":"+","0011010":"A","0001011":"B","0101001":"C","0001110":"D"},EAN13Encoding={L:{3211:0,2221:1,2122:2,1411:3,1132:4,1231:5,1114:6,1312:7,1213:8,3112:9},G:{1123:0,1222:1,2212:2,1141:3,2311:4,1321:5,4111:6,2131:7,3121:8,2113:9},R:{3211:0,2221:1,2122:2,1411:3,1132:4,1231:5,1114:6,1312:7,1213:8,3112:9},formats:{LLLLLL:0,LLGLGG:1,LLGGLG:2,LLGGGL:3,LGLLGG:4,LGGLLG:5,LGGGLL:6,LGLGLG:7,LGLGGL:8,LGGLGL:9}},self.onmessage=function(t){var r,n;switch(ScanImage={data:new Uint8ClampedArray(t.data.scan),width:t.data.scanWidth,height:t.data.scanHeight},t.data.rotation){case 8:ScanImage.data=e(ScanImage.data,ScanImage.width,ScanImage.height,-90),r=t.data.scanWidth,ScanImage.width=ScanImage.height,ScanImage.height=r;break;case 6:ScanImage.data=e(ScanImage.data,ScanImage.width,ScanImage.height,90),r=t.data.scanWidth,ScanImage.width=ScanImage.height,ScanImage.height=r;break;case 3:ScanImage.data=e(ScanImage.data,ScanImage.width,ScanImage.height,180)}Image={data:a(ScanImage.data,ScanImage.width,ScanImage.height),width:ScanImage.width/2,height:ScanImage.height/2},t.data.postOrientation&&postMessage({result:Image,success:"orientationData"}),availableFormats=["Code128","Code93","Code39","EAN-13","2Of5","Inter2Of5","Codabar"],FormatPriority=[];var o=["Code128","Code93","Code39","EAN-13","2Of5","Inter2Of5","Codabar"];for(SecureCodabar=!0,Secure2Of5=!0,Multiple=!0,void 0!==t.data.multiple&&(Multiple=t.data.multiple),void 0!==t.data.decodeFormats&&(o=t.data.decodeFormats),n=0;n<o.length;n++)FormatPriority.push(o[n]);l(),d();var i=m();i.length>0?postMessage({result:i,success:!0}):postMessage({result:i,success:!1})}}.toString();a=a.substring(a.indexOf("{")+1,a.lastIndexOf("}")),e.exports&&(t=e.exports=a),t.decoderWorkerBlobString=a}),u=o(function(e,t){var a={Config:{Multiple:!0,DecodeFormats:["Code128","Code93","Code39","EAN-13","2Of5","Inter2Of5","Codabar"],ForceUnique:!0,LocalizationFeedback:!1,SkipOrientation:!1},SupportedFormats:["Code128","Code93","Code39","EAN-13","2Of5","Inter2Of5","Codabar"],ScanCanvas:null,ScanContext:null,SquashCanvas:document.createElement("canvas"),ImageCallback:null,StreamCallback:null,LocalizationCallback:null,ImageErrorCallback:null,Stream:null,DecodeStreamActive:!1,Decoded:[],DecoderWorker:new Worker(URL.createObjectURL(new Blob([d],{type:"application/javascript"}))),OrientationCallback:null,Init:function(){a.ScanCanvas=a.FixCanvas(document.createElement("canvas")),a.ScanCanvas.width=640,a.ScanCanvas.height=480,a.ScanContext=a.ScanCanvas.getContext("2d")},SetRotationSkip:function(e){a.Config.SkipOrientation=e},SetImageCallback:function(e){a.ImageCallback=e},SetStreamCallback:function(e){a.StreamCallback=e},SetLocalizationCallback:function(e){a.LocalizationCallback=e,a.Config.LocalizationFeedback=!0},SetImageErrorCallback:function(e){a.ImageErrorCallback=e},SwitchLocalizationFeedback:function(e){a.Config.LocalizationFeedback=e},DecodeSingleBarcode:function(){a.Config.Multiple=!1},DecodeMultiple:function(){a.Config.Multiple=!0},SetDecodeFormats:function(e){a.Config.DecodeFormats=[];for(var t=0;t<e.length;t++)-1!==a.SupportedFormats.indexOf(e[t])&&a.Config.DecodeFormats.push(e[t]);0===a.Config.DecodeFormats.length&&(a.Config.DecodeFormats=a.SupportedFormats.slice())},SkipFormats:function(e){for(var t=0;t<e.length;t++){var r=a.Config.DecodeFormats.indexOf(e[t]);r>=0&&a.Config.DecodeFormats.splice(r,1)}},AddFormats:function(e){for(var t=0;t<e.length;t++)-1!==a.SupportedFormats.indexOf(e[t])&&-1===a.Config.DecodeFormats.indexOf(e[t])&&a.Config.DecodeFormats.push(e[t])},BarcodeReaderImageCallback:function(e){if("localization"!==e.data.success)if("orientationData"!==e.data.success){for(var t=[],r=0;r<e.data.result.length;r++)-1!==a.Decoded.indexOf(e.data.result[r].Value)&&!1!==a.Config.ForceUnique||(t.push(e.data.result[r]),a.Config.ForceUnique&&a.Decoded.push(e.data.result[r].Value));a.ImageCallback(t),a.Decoded=[]}else a.OrientationCallback(e.data.result);else a.Config.LocalizationFeedback&&a.LocalizationCallback(e.data.result)},BarcodeReaderStreamCallback:function(e){if("localization"!==e.data.success){if(e.data.success&&a.DecodeStreamActive){for(var t=[],r=0;r<e.data.result.length;r++)-1!==a.Decoded.indexOf(e.data.result[r].Value)&&!1!==a.ForceUnique||(t.push(e.data.result[r]),a.ForceUnique&&a.Decoded.push(e.data.result[r].Value));t.length>0&&a.StreamCallback(t)}a.DecodeStreamActive&&(a.ScanContext.drawImage(a.Stream,0,0,a.ScanCanvas.width,a.ScanCanvas.height),a.DecoderWorker.postMessage({scan:a.ScanContext.getImageData(0,0,a.ScanCanvas.width,a.ScanCanvas.height).data,scanWidth:a.ScanCanvas.width,scanHeight:a.ScanCanvas.height,multiple:a.Config.Multiple,decodeFormats:a.Config.DecodeFormats,cmd:"normal",rotation:1})),a.DecodeStreamActive||(a.Decoded=[])}else a.Config.LocalizationFeedback&&a.LocalizationCallback(e.data.result)},DecodeImage:function(e){var t=new Image;t.onerror=a.ImageErrorCallback,e instanceof Image||e instanceof HTMLImageElement?(e.exifdata=!1,e.complete?a.Config.SkipOrientation?a.BarcodeReaderDecodeImage(e,1,""):l.getData(e,function(e){var t=l.getTag(e,"Orientation"),r=l.getTag(e,"SceneCaptureType");"number"!=typeof t&&(t=1),a.BarcodeReaderDecodeImage(e,t,r)}):(t.onload=function(){a.Config.SkipOrientation?a.BarcodeReaderDecodeImage(t,1,""):l.getData(this,function(e){var t=l.getTag(e,"Orientation"),r=l.getTag(e,"SceneCaptureType");"number"!=typeof t&&(t=1),a.BarcodeReaderDecodeImage(e,t,r)})},t.src=e.src)):(t.onload=function(){a.Config.SkipOrientation?a.BarcodeReaderDecodeImage(t,1,""):l.getData(this,function(e){var t=l.getTag(e,"Orientation"),r=l.getTag(e,"SceneCaptureType");"number"!=typeof t&&(t=1),a.BarcodeReaderDecodeImage(e,t,r)})},t.src=e)},DecodeStream:function(e){a.Stream=e,a.DecodeStreamActive=!0,a.DecoderWorker.onmessage=a.BarcodeReaderStreamCallback,a.ScanContext.drawImage(e,0,0,a.ScanCanvas.width,a.ScanCanvas.height),a.DecoderWorker.postMessage({scan:a.ScanContext.getImageData(0,0,a.ScanCanvas.width,a.ScanCanvas.height).data,scanWidth:a.ScanCanvas.width,scanHeight:a.ScanCanvas.height,multiple:a.Config.Multiple,decodeFormats:a.Config.DecodeFormats,cmd:"normal",rotation:1})},StopStreamDecode:function(){a.DecodeStreamActive=!1,a.Decoded=[]},BarcodeReaderDecodeImage:function(e,t,r){8===t||6===t?"Landscape"===r&&e.width>e.height?(t=1,a.ScanCanvas.width=640,a.ScanCanvas.height=480):(a.ScanCanvas.width=480,a.ScanCanvas.height=640):(a.ScanCanvas.width=640,a.ScanCanvas.height=480),a.DecoderWorker.onmessage=a.BarcodeReaderImageCallback,a.ScanContext.drawImage(e,0,0,a.ScanCanvas.width,a.ScanCanvas.height),a.Orientation=t,a.DecoderWorker.postMessage({scan:a.ScanContext.getImageData(0,0,a.ScanCanvas.width,a.ScanCanvas.height).data,scanWidth:a.ScanCanvas.width,scanHeight:a.ScanCanvas.height,multiple:a.Config.Multiple,decodeFormats:a.Config.DecodeFormats,cmd:"normal",rotation:t,postOrientation:a.PostOrientation})},DetectVerticalSquash:function(e){var t,r=e.naturalHeight,n=a.SquashCanvas;n.width=1,n.height=r;var o=n.getContext("2d");o.drawImage(e,0,0);try{t=o.getImageData(0,0,1,r).data}catch(e){return console.log("Cannot check verticalSquash: CORS?"),1}for(var i=0,c=r,l=r;l>i;)0===t[4*(l-1)+3]?c=l:i=l,l=c+i>>1;var d=l/r;return 0===d?1:d},FixCanvas:function(e){var t=e.getContext("2d"),r=t.drawImage;return t.drawImage=function(e,n,o,i,c,l,d,u,h){var s=1;e&&"IMG"===e.nodeName&&(s=a.DetectVerticalSquash(e)),9===arguments.length?r.call(t,e,n,o,i,c,l,d,u,h/s):void 0!==i?r.call(t,e,n,o,i,c/s):r.call(t,e,n,o)},e}};e.exports&&(t=e.exports=a),t.BarcodeReader=a}).BarcodeReader,h=function(){function e(){this.helpText="Point your camera at a EAN Code"}return e.prototype.componentDidLoad=function(){var e=this;this.iOS=["iPad","iPhone","iPod"].indexOf(navigator.platform)>=0,this.video=this.rootElement.querySelector("video"),this.barElement=this.rootElement.querySelector(".barcode-scanner__bar"),this.helpElement=this.rootElement.querySelector(".barcode-scanner__help"),this.overlayElement=this.rootElement.querySelector(".barcode-scanner__overlay"),u.Init(),u.DecodeSingleBarcode(),u.SetDecodeFormats(["EAN-13"]),this.initStream(),setTimeout(function(){e.setCameraOverlay(),e.iOS||e.scan()},1e3)},e.prototype.componentDidUnload=function(){u.StopStreamDecode(),this.video.srcObject=null},e.prototype.setCameraOverlay=function(){this.overlayElement.style.borderStyle="solid",this.helpElement.style.display="block"},e.prototype.initStream=function(){var e=this;this.iOS||navigator.mediaDevices.enumerateDevices().then(function(t){var a=t.filter(function(e){if("videoinput"==e.kind)return e});if(a.length>1){r={video:{mandatory:{sourceId:a[1].deviceId?a[1].deviceId:null}},audio:!1};e.capture(r)}else if(a.length){var r={video:{mandatory:{sourceId:a[0].deviceId?a[0].deviceId:null}},audio:!1};e.capture(r)}else e.capture({video:!0})}).catch(function(e){console.error("Error occurred : ",e)})},e.prototype.capture=function(e){var t=this;navigator.mediaDevices.getUserMedia(e).then(function(e){t.video.srcObject=e,t.video.play()}).catch(function(e){console.log("Error occurred ",e)})},e.prototype.scan=function(){this.iOS||(this.barElement.style.display="block");var e=this;u.StreamCallback=function(t){var a={format:"",value:""};t.length>0&&(a.value=t[0].Value,a.format=t[0].Format),e.scanCompleted.emit(a),u.StopStreamDecode()},u.DecodeStream(this.video)},e.prototype.render=function(){return t("div",{c:{"barcode-scanner":!0}},t("video",{c:{"barcode-scanner__video":!0}}),t("div",{c:{"barcode-scanner__overlay":!0}},t("div",{c:{"barcode-scanner__bar":!0}}),t("div",{c:{"barcode-scanner__help":!0}},this.helpText)))},e}();e["EAN-SCANNER"]=h},["EAN-SCANNER",[["helpText",1],["rootElement",7],["title",1]],{},[["scanCompleted"]]]);